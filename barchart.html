<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <style>
      #container {
        height: 10vw;
        border: solid 1px white;
        display: flex;
        align-items: flex-end;
      }
      #box {
        height: 10vw;
        width: 6vw;
        background-color: lightpink;
        border: solid 1px black;
      }
      .bg {
        background-color: gray;
      }
    </style>
  </head>
  <body>
    <div id="container"></div>

    <template id="boxtemplate">
      <div id="box"></div>
    </template>

    <script>
      function createBox() {
        const clone = document
          .querySelector("#boxtemplate")
          .content.cloneNode(true);
        const box = clone.querySelector("#box");
        const height = getRandomNumber() + "px";
        box.style.height = height;

        const elm = document.querySelector("#container").appendChild(clone);
      }

      const customers = [];

      function getRandomNumber() {
        const num = Math.random() * 100;
        return num;
      }

      let counter = 0;

      function createBoxes() {
        createBox();
        counter++;

        if (counter > 40) {
        } else {
          createBoxes();
        }
      }
      createBoxes();

      function scrollBoxes() {
        createBox();
        //remove the first one
        document.querySelector("#box").remove();
      }

      loop();

      function loop() {
        counter++;
        const max_customers = 40;
        if (customers.length < max_customers) {
          scrollBoxes();
        }

        setTimeout(loop, 1000);
      }
    </script>
  </body>
</html>
